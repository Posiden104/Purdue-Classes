<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter 5. Interactions Pane</title><meta name="generator" content="DocBook XSL Stylesheets V1.69.1"><link rel="start" href="index.html" title="DrJava User Documentation"><link rel="up" href="index.html" title="DrJava User Documentation"><link rel="prev" href="ch04s03.html" title="Project Properties"><link rel="next" href="ch05s02.html" title="Imports in the Interactions Pane"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 5. Interactions Pane</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="interactions"></a>Chapter 5. Interactions Pane</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch05.html#interactions-pane-system-in">System.in and Closing the Input Stream</a></span></dt><dt><span class="section"><a href="ch05s02.html">Imports in the Interactions Pane</a></span></dt></dl></div><p>One of the key distinguishing features of DrJava is its Interactions Pane, which allows you to enter and evaluate Java statements and expressions on the fly.  This is remarkably useful for beginning students, who no longer have to learn to write main methods, recompile, and run programs from a command line simply to test how a new class or method behaves.  From a teaching standpoint, the Interactions Pane is a very easy way to help students learn to write Java without having to explain the full meaning of syntax like "public static void main", and it also provides an ideal way to perform demonstrations in class.  The Interactions Pane can also be used to experiment with your own programs or new libraries, or even to create graphical user interfaces interactively.</p><p><b>How to Use. </b>The Interactions Pane supports the execution of any valid Java statements as well as the evaluation of Java expressions.  Simply define variables and call methods as you would in an ordinary method, or even define new classes and methods and call them interactively.  In general, any statement or expression ending without a semicolon will display its result in the Interactions Pane, while those ending with a semicolon will complete without displaying a result.  Result objects are displayed using the object's toString() method.  Any system output will be displayed in the Interactions Pane in green (as well as in the Console tab), while system errors will be displayed in red by default.  Any system input will cause a box to be inserted in the Interactions Pane where you can type what you want System.in to read. This text will be colored purple. These colors can be modified in the "Colors" section in the Preferences window.</p><p>Here is a simple interactions session, to demonstrate how the Interactions Pane can be used to experiment with objects or show GUI components.</p><pre class="programlisting">
Welcome to DrJava.
&gt; String s = "Hello World";
&gt; s
"Hello World"
&gt; s.length()
11
&gt; import javax.swing.*;
&gt; JFrame frame = new JFrame("My JFrame");
&gt; frame.show();
&gt; 
    </pre><p><b>Intelligent Newlines. </b>DrJava parses your input each time Enter is pressed.  If it finds that the input is not complete (unmatched braces or a missing semicolon, for example), it will automatically insert a newline, prompting you for more input on the next line.  This feature makes declaring loops, methods, and classes very clean.</p><p><b>Resetting the Interactions Pane. </b>You can reset the Interactions Pane if you wish to start from scratch or if a method call hangs and does not return.  Resetting removes any variables from scope and terminates any methods running in the Interactions Pane.  To do this, simply choose the "Reset Interactions" command from the Tools menu.  This will also reset the Debugger and any JUnit tests that are currently running.</p><p><b>Running the Main Method. </b>For convenience, DrJava supports calling the main method of a class in the Interactions Pane by simply entering "java" followed by the class name and any arguments.  For example, to run MyClass with args "arg1" and "arg2", type the following into the Interactions Pane:</p><pre class="programlisting">java MyClass arg1 arg2</pre><p>Note that this feature does not support passing special flags or arguments to the JVM itself, as is supported on the command line.</p><p>Another shortcut for this feature is the "Run Document's Main Method" command, which can be found in both the Tools menu and the context menu of the document list.  This command will simply insert the appropriate <code class="literal">"java MyClass"</code> text into the Interactions Pane to run the current class's main method.</p><p>DrJava also displays either a "Run Project" or a "Run" button in its toolbar, depending on whether you have specified a "Main Class" for the project or not, respectively. "Run Project" will run the main method of the project's "Main Class", while "Run" while execute the main method of the currently open document.</p><p>If "Smart Run Command" option is enabled, DrJava will also run applets and ACM Java Task Force programs using the "Run" or "Run Project" buttons (see <a href="apa.html" title="Appendix A. Configuring DrJava">Configuring DrJava</a>).</p><p>The same smart behavior of running regular Java classes, applets and ACM Java Task Force programs can also be achieved by entering "run" followed by the class name and any arguments in the Interactions Pane.  For example, to run MySomething with args "arg1" and "arg2", type the following into the Interactions Pane:</p><pre class="programlisting">run MySomething arg1 arg2</pre><p><b>Running the Document as Applet. </b>For users who write Java applets, DrJava has a built-in applet viewer that supports calling the <code class="filename">run()</code> method of a class in the Interactions Pane by simply entering "applet" followed by the class name. Any arguments will be passed to the constructor as strings.  For example, to create <code class="filename">MyApplet(String a, String b)</code> with arguments "arg1" and "arg2" and then call the object's <code class="filename">run()</code> method, type the following into the Interactions Pane:</p><pre class="programlisting">applet MyApplet arg1 arg2</pre><p>Another shortcut for this feature is the "Run Document as Applet" command, which can be found in both the Tools menu and the context menu of the document list.  This command will simply insert the appropriate <code class="literal">"applet MyApplet"</code> text into the Interactions Pane to run the current document as applet.</p><p><b>Keyboard Shortcuts. </b>Many actions in the Interactions Pane have keyboard shortcuts for ease of use.  Use the Up and Down arrow keys to scroll through a history of the previously entered commands, or <span class="keycode">Ctrl+B</span> to clear the current command.  You can also use <span class="keycode">Shift+Enter</span> to insert newlines into statements in the Interactions Pane.  DrJava also now supports searching backwards through history.  To use this feature, type in the first few characters of the command you wish to repeat and hit the Tab key.  The last command that matches the characters you typed will appear.  Hitting Tab repeated searches farther back, while Shift-Tab will move you forward in the history.</p><p><b>Setting the Classpath. </b>To interact with any class within the Interactions Pane, it must be included on the Interactions Classpath, which can include more than the user's own classpath.  Any class which is opened in the Definitions Pane of DrJava is automatically added to this classpath, but additional classes and directories can be added using the "Extra Classpath" configuration option.  (See <a href="apa.html" title="Appendix A. Configuring DrJava">Configuring DrJava</a>.)  The current classpath of the Interactions Pane can be viewed at any time by selecting "View Interactions Classpath" from the context menu.</p><p><b>Saving the Interactions History. </b>You can save all of your past interactions to a file at any time, using the "Save Interactions History" command in the Tools and popup menus.  This command gives you the option to edit any part of the history before saving it, through  a separate window that supports editing.  By default, up to 500 of the most recent Interaction commands are kept in this history, though this number is configurable.  Histories are saved in files with a <code class="filename">.hist</code> extension, and they can be later executed in the Interactions Pane with the "Execute Interactions History" command in the Tools menu.  Saving and executing histories can be particularly useful for initial setup of an often repeated task, such as importing several packages and initializing frequently used variables.  To help manage the history, a "Clear Interactions History" command is also provided in the Tools menu.</p><p><b>Loading a History File as a Script. </b>You can load a history file as a script that can be executed one line at a time, using the "Load Interactions History as Script" command in the Tools and popup menus.  A panel will appear on the right side of the Interactions Pane with buttons that allow you to display the previous interaction, execute the current interaction, display the next interaction, and close the panel.  This feature is useful during presentations because you can step through a series of interactions that has been prepared in advance, allowing the audience to see the result of each interaction.</p><p><b>Lifting Interactions to Definitions. </b>One common use of the Interactions Pane is to test a line of code intended for a program, even before it is written in the program itself.  For example, this can be the case when experimenting with method calls to determine their results.  In this situation, it is convenient to copy a working line from the Interactions Pane into the Definitions Pane.  This can be done quickly with the "Lift Current Interaction to Definitions" command in the Tools menu, which simply copies the text at the current prompt and pastes it at the cursor position in the Definitions Pane.</p><p><b>Context Menu. </b>The Interactions Pane has a context menu, which can be used by right-clicking in the pane.  (Mac users should use <span class="keycode">Ctrl+Click</span> or <span class="keycode">Option+Click</span>.)  This menu provides shortcuts to useful commands for the Interactions Pane, including cut, copy, and paste, as well as resetting the Interactions Pane, executing, loading, and saving history files, viewing the current classpath, and copying the current interaction to the Definitions Pane.</p><p><b>Tiger Features. </b>DrJava provides support for Tiger (JDK 1.5) features in the interactions pane. These include enum types, static import, for each statements, methods with variable arguments, generics, and autoboxing. Note that you must be running Java 2, version 1.5.0 or later to use 1.5 features in the Interactions Pane. Also, DrJava does not currently type check generics, so while they may be used in the interactions pane without a syntax error, we do not yet provide full support for type checking of generics.</p><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="interactions-pane-system-in"></a>System.in and Closing the Input Stream</h2></div></div></div><p>Your program can ask for text input from the user by invoking <code class="filename">System.in</code>. You can also use the <code class="filename">System.in.read()</code> method in the Interactions Pane directly.  When the input box appears, type your text and then either press Return.</p><p>You can choose to close the input stream by selecting the menu item "Tools, Interactions &amp; Console, Close System.in", or by pressing the keyboard shortcut for it, which is <code class="filename"> Ctrl-D </code>. The shortcut is labeled <code class="filename">Close System.in</code> in the Key Bindings section of the preferences.</p><p>Here is an example of closing the input stream. The text in square brackets was entered by the user.</p><pre class="programlisting">
Welcome to DrJava.  Working directory is /Users/Shared/drjava
&gt; System.in.read()
 [1]
49
&gt; System.in.read()
10
&gt; System.in.read() // press Ctrl-D now
 []
-1
&gt;
    </pre><p>The user first types '1' and then presses Return. This lets DrJava read
a 49, which is the ASCII code for the character '1', and then 10, which is the
ASCII code for the new line created by Return. In the second input box, the
user pressed Ctrl-D immediately to close the input stream. This lets DrJava
read -1, indicating of the end of the stream.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04s03.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch05s02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Project Properties </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Imports in the Interactions Pane</td></tr></table></div></body></html>
